{% extends 'overwin/base.html'%}
{% load static %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'overwin/css/game_player_info_and_stats/game_player_info.css'%}">
{% endblock %}

{% block content %}
    {% if player %}
        <div class="banner-area">
            <div class="player-avatar-area"><img class="player-avatar" src="{{ player_info.avatar }}" alt="Player Avatar"></div>
            <div class="player-namacard-area"><img class="player-namecard" src="{{ player_info.namecard }}" alt="Player Namecard"></div>
            <div class="player-name-and-title">
                <p class="player-name">{{ player }}</p>
                <p class="player-title">{{ player_info.title }}</p>
            </div>
        </div>
        {% if player_info %}
        <div class="player-rank-area">
            <img class="endorsement" src="{{ player_info.endorsement.frame }}" alt="Endorsement Frame">
            <div class="tank-role-container">
                <img class="tank-cs-role-icon" src="{{ player_info.tank_rank_cs.role_icon }}" alt="tank_cs_role_icon">
                <div class="tank-role-right-container">
                    <div><img class="tank-cs-rank-icon" src="{{ player_info.tank_rank_cs.rank_icon }}" alt="tank_cs_rank_icon"></div>
                    <div><img class="tank-cs-tier-icon" src="{{ player_info.tank_rank_cs.tier_icon }}" alt="tank_cs_tier_icon"></div>
                </div>
            </div>
            <div class="damage-role-container">
                <img class="damage-cs-role-icon" src="{{ player_info.damage_rank_cs.role_icon }}" alt="damage_cs_role_icon" >
                <div class="damage-role-right-container">
                    <div><img class="damage-cs-rank-icon" src="{{ player_info.damage_rank_cs.rank_icon }}" alt="damage_cs_rank_icon"></div>
                    <div><img class="damage-cs-tier-icon" src="{{ player_info.damage_rank_cs.tier_icon }}" alt="damage_cs_tier_icon"></div>
                </div>
            </div>
            <div class="support-role-container">
                <img class="support-cs-role-icon" src="{{ player_info.support_rank_cs.role_icon }}" alt="support-cs-role-icon" >
                <div class="support-role-right-container">
                    <div><img class="support-cs-rank-icon" src="{{ player_info.support_rank_cs.rank_icon }}" alt="support-cs-rank-icon"></div>
                    <div><img class="support-cs-tier-icon" src="{{ player_info.support_rank_cs.tier_icon }}" alt="support-cs-tier-icon"></div>
                </div>
            </div>
        </div>
        <div class="container">
            <h1>Hero Stats</h1>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Hero</th>
                        <th>Time Played</th>
                        <th>Win Rate</th>
                        <th>Average Damage</th>
                        <th>Kill/Death Ratio</th>
                    </tr>
                </thead>
                <tbody>
                    {% for hero_name, hero_data in player_hero_info.items %}
                    <tr>
                        <td>{{ hero_name }}</td>
                        <td>{{ hero_data.time_played }}</td>
                        <td>{{ hero_data.win_rate }}%</td>
                        <td>{{ hero_data.average_damage }}</td>
                        <td>{{ hero_data.kill_count_divide_death_count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p>非公開のプレイヤーです</p>
        {% endif %}
    {% else %}
    <p>プレイヤーが見つかりませんでした</p>
    {% endif %}
{% endblock %}