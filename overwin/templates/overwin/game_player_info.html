{% extends 'overwin/base.html'%}

{% block content %}
    {% if player %}
    <h1>{{ player }}</h1>
        {% if player_info %}
        <div>
            <img src="{{ player_info.avatar }}" alt="Player Avatar">
            <img src="{{ player_info.namecard }}" alt="Player Namecard" width=400>
            <p>Title:{{ player_info.title }}</p>
            <p><img src="{{ player_info.endorsement.frame }}" alt="Endorsement Frame" width=100></p>
        </div>
        <div>
            <img src="{{ player_info.tank_rank_cs.role_icon }}" alt="tank_cs_role_icon" width=50>
            <img src="{{ player_info.tank_rank_cs.rank_icon }}" alt="tank_cs_rank_icon">
            <img src="{{ player_info.tank_rank_cs.tier_icon }}" alt="tank_cs_tier_icon">
        </div>
        <div>
            <img src="{{ player_info.damage_rank_cs.role_icon }}" alt="damage_cs_role_icon" width=50>
            <img src="{{ player_info.damage_rank_cs.rank_icon }}" alt="damage_cs_rank_icon">
            <img src="{{ player_info.damage_rank_cs.tier_icon }}" alt="damage_cs_tier_icon">
        </div>
        <div>
            <img src="{{ player_info.support_rank_cs.role_icon }}" alt="support_cs_role_icon" width=50>
            <img src="{{ player_info.support_rank_cs.rank_icon }}" alt="support_cs_rank_icon">
            <img src="{{ player_info.support_rank_cs.tier_icon }}" alt="support_cs_tier_icon">
        </div>
        <div class="container">
            <h1>Hero Stats</h1>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Hero</th>
                        <th>Time Played(h:m)</th>
                        <th>Win Rate</th>
                        <th>Average Damage</th>
                        <th>Kill/Death Ratio</th>
                    </tr>
                </thead>
                <tbody>
                    {% for hero_name, hero_data in player_hero_info.items %}
                    <tr>
                        <td>{{ hero_name }}</td>
                        <td>{{ hero_data.time_played }}</td>
                        <td>{{ hero_data.win_rate }}%</td>
                        <td>{{ hero_data.average_damage }}</td>
                        <td>{{ hero_data.kill_count_divide_death_count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p>非公開のプレイヤーです</p>
        {% endif %}
    {% else %}
    <p>プレイヤーが見つかりませんでした</p>
    {% endif %}
    <a href="{% url 'overwin:favorite_game_player' %}" class="btn btn-secondary">戻る</a>
{% endblock %}